/*
	Ben Davis
	2/13/24
	EE 371
	Lab 4, Task 1
	
	This module takes in an 8 bit input and outputs the number of
	ones in the input once it is done...
	
*/

module lab4task1_ASM (
					input logic clk,
					input logic [7:0] in,
					input logic ld,
					input logic shr,
					output logic zero,
					output logic [7:0] A,
					output logic [3:0] result
					);
					
	always_ff @(posedge clk) begin
		if(~ld) begin
			result <= 0;
			A <= in;
		end else begin
			result <= result;
			A <= A;
		end
	end
	
	always_ff @(posedge clk) begin
		if(A[0] == 1'b1) begin
			result <= result + 1'b1;
		end
		zero <= (A==0) ? 1 : 0;
		A <= {1'b0, A[7:1]};
	end
endmodule 